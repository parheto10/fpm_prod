{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}
{% load bootstrap4 %}
{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% bootstrap_messages %}
{% block title %}
    Producteurs |
{% endblock %}
{% block content %}
    <div id="wrapper">
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    {% if user.is_authenticated %}
        <div class="navbar-header">
            <a class="navbar-brand" href="{% url 'cooperatives:dashboard' %}">{{ cooperative.sigle }} / {{ cooperative.get_projet_values }}</a>
        </div>
    {% endif %}

    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>

    <ul class="nav navbar-right navbar-top-links">
        {% if user.is_authenticated %}
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                    <i class="fa fa-user fa-fw"></i> {{ user.username }} <b class="caret"></b>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li><a href="{% url 'logout' %}"><i class="fa fa-sign-out fa-fw"></i> DÃ©connexion</a>
                    </li>
                </ul>
            </li>
        {% endif %}
    </ul>
    <!-- /.navbar-top-links -->
    {% include 'cooperatives/coop_sidebar.html' %}
</nav>
        <div id="page-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <h4 class="page-header">Importer Liste Producteur</h4>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                    <div class="col-sm-6 col-sm-offset-3">
                        {% include '_partials/messages_display.html' %}
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <!--    <button type="button" class="btn btn-primary pull-right" style="font-size:1.8vmin; margin-top: 5px" data-toggle="modal" data-target="#ProducteursModal" data-whatever="@mdo">
                                    Ajouter un producteur
                                </button>-->
                                <button type="button" class="btn btn-primary " style="font-size:1.8vmin; margin-top: 5px" onclick="validateImportProd('{% url 'cooperatives:importValidProd' %}')">
                                    COMFIRMER L'IMPORTATION
                                </button>
                                <button type="button" class="btn btn-danger " style="font-size:1.8vmin; margin-top: 5px" onclick="annuleImportProd('{% url 'cooperatives:importAnnuleProd' %}')">
                                    ANNULER L'IMPORTATION
                                </button>
                                  
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body" style="font-size: 13px">
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered table-hover" id="dataTables-exampl">
                                        <thead class="text-center">
                                         <tr>
                                            <th class="text-center">CODE</th>
                                            <th class="text-center">NOM ET PRENOMS</th>
                                            <th class="text-center">GENRE</th>
                                            <th class="text-center">SECTION</th>
                                            <th class="text-center">LOCALITE</th>
                                            <th class="text-center">DATE NAISSANCE</th>
                                            <th class="text-center">CONTACT</th>
                                            <th class="text-center">NBRE PARCELLE</th>
                                            <th class="text-center">COOPERATIVE</th>
                                         </tr>
                                        </thead>
                                        <tbody class="text-center">
                                            {% for prod in listProd %}
                                            <tr class="odd gradeX" style="background: greenyellow;">
                                                <td>{{ prod.code }}</td>
                                                <td>
                                                    {% if prod.nom_prime is not None %}
                                                    <strike class="text-danger"> <strong>{{ prod.nom }} </strong> </strike>{{prod.nom_prime}}
                                                        
                                                    {% else %}
                                                    {{ prod.nom }}                                                    {% endif %}
                                                    
                                                </td>
                                                <td>
                                                    {% if prod.genre_prime is not None %}
                                                    <strike class="text-danger"> <strong>{{ prod.genre }} </strong> </strike>{{prod.genre_prime}}
                                                       
                                                    {% else %}
                                                    {{ prod.genre }}
                                                    {% endif %}
                                                    
                                                </td>
                                                <td>
                                                    {% if prod.section_prime is not None %}
                                                    <strike class="text-danger"> <strong>({{ prod.section.id }}){{ prod.section.libelle }} </strong> </strike>{{prod.section_prime}}
                                                        
                                                    {% else %}
                                                    {{ prod.section.libelle }}
                                                    {% endif %}
                                                   
                                                </td>
                                                <td>
                                                    {% if prod.localite_prime is not NOne %}
                                                    <strike class="text-danger"> <strong>{{ prod.localite }} </strong> </strike>{{prod.localite_prime}}
                                                        
                                                    {% else %}
                                                    {{ prod.localite }}
                                                    {% endif %}
                                                    
                                                </td>
                                                <td>
                                                    {% if prod.dob_prime is not NOne %}
                                                    <strike class="text-danger"> <strong>{{ prod.dob }} </strong> </strike>{% if prod.dob_prime == "None" %}{% else %} {{prod.dob_prime}} {% endif %}
                                                        
                                                    {% else %}
                                                    {{ prod.dob }}
                                                    {% endif %}
                                                    
                                                </td>
                                                <td>
                                                    {% if prod.contacts_prime is not NOne %}
                                                    <strike class="text-danger"> <strong>{{ prod.contacts }} </strong> </strike>{{prod.contacts_prime}}
                                                        
                                                    {% else %}
                                                    {{ prod.contacts }}
                                                    {% endif %}
                                                    
                                                </td>
                                                <td>
                                                    {% if prod.nb_parcelle_prime is not None %}
                                                    <strike class="text-danger"> <strong>{{ prod.nb_parcelle }} </strong> </strike>{{prod.nb_parcelle_prime}}
                                                        
                                                    {% else %}
                                                    {{ prod.nb_parcelle }}
                                                    {% endif %}
                                                    
                                                </td>
                                                <td>
                                                    {% if prod.cooperative_prime is not None  %}
                                                    <strike class="text-danger"> <strong>({{ prod.cooperative.id }}){{ prod.cooperative.sigle }} </strong> </strike>{{prod.cooperative_prime}}
                                                        
                                                    {% else %}
                                                    {{ prod.cooperative.sigle }}
                                                    {% endif %}
                                                    
                                                </td>
                                            
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                     
                                    </table>
                                </div>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel -->
                    </div>
                    <!-- /.col-lg-8 -->
                </div>
                <!-- /.row -->
            </div>
          
        </div>
    </div>
    <!-- Button trigger modal -->


    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="{% static 'js/function.js' %}"></script>

{% endblock %}